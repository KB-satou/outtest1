(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2127:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/wasmyoyo1_bg.33f8f492.wasm"},4503:(e,t,n)=>{"use strict";let r;n.r(t),n.d(t,{default:()=>R});var o=n(5155),i=n(2115),a=n(337),s=n(7274);let u=0,l=null;function c(){return(null===l||0===l.byteLength)&&(l=new Uint8Array(r.memory.buffer)),l}let _="undefined"!=typeof TextEncoder?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},f="function"==typeof _.encodeInto?function(e,t){return _.encodeInto(e,t)}:function(e,t){let n=_.encode(e);return t.set(n),{read:e.length,written:n.length}},b=null;function g(){return(null===b||!0===b.buffer.detached||void 0===b.buffer.detached&&b.buffer!==r.memory.buffer)&&(b=new DataView(r.memory.buffer)),b}let d="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};function p(e,t){return e>>>=0,d.decode(c().subarray(e,e+t))}function w(e,t){if(!(e instanceof t))throw Error("expected instance of ".concat(t.name))}"undefined"!=typeof TextDecoder&&d.decode();let h="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>r.__wbg_yoyostate_free(e>>>0,1));class y{static __wrap(e){e>>>=0;let t=Object.create(y.prototype);return t.__wbg_ptr=e,h.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,h.unregister(this),e}free(){let e=this.__destroy_into_raw();r.__wbg_yoyostate_free(e,0)}toObject(){return r.yoyostate_toObject(this.__wbg_ptr)}static zeros(){let e=r.yoyostate_zeros();return y.__wrap(e)}one_step(e,t){w(e,x);let n=r.yoyostate_one_step(this.__wbg_ptr,e.__wbg_ptr,t);return y.__wrap(n)}steps(e,t,n){w(e,x);let o=r.yoyostate_steps(this.__wbg_ptr,e.__wbg_ptr,t,n);return y.__wrap(o)}constructor(e,t,n,o,i,a){let s=r.yoyoparams_new(e,t,n,o,i,a);return this.__wbg_ptr=s>>>0,h.register(this,this.__wbg_ptr,this),this}}let m="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>r.__wbg_yoyoparams_free(e>>>0,1));class x{static __wrap(e){e>>>=0;let t=Object.create(x.prototype);return t.__wbg_ptr=e,m.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,m.unregister(this),e}free(){let e=this.__destroy_into_raw();r.__wbg_yoyoparams_free(e,0)}static new_gmms(e,t,n,o,i){let a=r.yoyoparams_new_gmms(e,t,n,o,i);return x.__wrap(a)}toObject(){return r.yoyoparams_toObject(this.__wbg_ptr)}constructor(e,t,n,o,i,a){let s=r.yoyoparams_new(e,t,n,o,i,a);return this.__wbg_ptr=s>>>0,m.register(this,this.__wbg_ptr,this),this}}async function j(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"!=e.headers.get("Content-Type"))console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t);else throw t}let n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{let n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}async function v(e){var t,o;if(void 0!==r)return r;void 0!==e&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),void 0===e&&(e=new n.U(n(2127)));let i=function(){let e={};return e.wbg={},e.wbg.__wbg_new_405e22f390576ce2=function(){return{}},e.wbg.__wbg_set_3807d5f0bfc24aa7=function(e,t,n){e[t]=n},e.wbg.__wbindgen_debug_string=function(e,t){let n=function(e,t,n){if(void 0===n){let n=_.encode(e),r=t(n.length,1)>>>0;return c().subarray(r,r+n.length).set(n),u=n.length,r}let r=e.length,o=t(r,1)>>>0,i=c(),a=0;for(;a<r;a++){let t=e.charCodeAt(a);if(t>127)break;i[o+a]=t}if(a!==r){0!==a&&(e=e.slice(a)),o=n(o,r,r=a+3*e.length,1)>>>0;let t=f(e,c().subarray(o+a,o+r));a+=t.written,o=n(o,r,a,1)>>>0}return u=a,o}(function e(t){let n;let r=typeof t;if("number"==r||"boolean"==r||null==t)return"".concat(t);if("string"==r)return'"'.concat(t,'"');if("symbol"==r){let e=t.description;return null==e?"Symbol":"Symbol(".concat(e,")")}if("function"==r){let e=t.name;return"string"==typeof e&&e.length>0?"Function(".concat(e,")"):"Function"}if(Array.isArray(t)){let n=t.length,r="[";n>0&&(r+=e(t[0]));for(let o=1;o<n;o++)r+=", "+e(t[o]);return r+"]"}let o=/\[object ([^\]]+)\]/.exec(toString.call(t));if(!o||!(o.length>1))return toString.call(t);if("Object"==(n=o[1]))try{return"Object("+JSON.stringify(t)+")"}catch(e){return"Object"}return t instanceof Error?"".concat(t.name,": ").concat(t.message,"\n").concat(t.stack):n}(t),r.__wbindgen_malloc,r.__wbindgen_realloc),o=u;g().setInt32(e+4,o,!0),g().setInt32(e+0,n,!0)},e.wbg.__wbindgen_init_externref_table=function(){let e=r.__wbindgen_export_2,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)},e.wbg.__wbindgen_number_new=function(e){return e},e.wbg.__wbindgen_string_new=function(e,t){return p(e,t)},e.wbg.__wbindgen_throw=function(e,t){throw Error(p(e,t))},e}();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));let{instance:a,module:s}=await j(await e,i);return t=a,o=s,r=t.exports,v.__wbindgen_wasm_module=o,b=null,l=null,r.__wbindgen_start(),r}function R(){let e=(0,i.useRef)(null),t=(0,i.useRef)(null),n=(0,i.useRef)(null),r=(0,i.useRef)(null),u=(0,i.useRef)(null),l=(0,i.useRef)(null),[c,_]=(0,i.useState)([]),[f,b]=(0,i.useState)(!1),g=(0,i.useRef)(0),d=(0,i.useRef)(null),p=(0,i.useRef)(null),w=(0,i.useRef)(null),[h,m]=(0,i.useState)(2e4),[j,R]=(0,i.useState)(6.35);function O(e){if(!u.current||!l.current||!r.current||!t.current||!n.current)return;let o=e.toObject(),i=o.r,a=o.theta,s=i*Math.cos(a),c=i*Math.sin(a);u.current.position.set(s,c,0);let _=l.current.geometry.attributes.position.array;_[3]=s,_[4]=c,_[5]=0,l.current.geometry.attributes.position.needsUpdate=!0,r.current.render(t.current,n.current)}return(0,i.useEffect)(()=>{(async function(){await v(),p.current=new y(30,Math.PI,0,0,-100,0),w.current=new x(60,h,30,j,1e3,9806.65);let o=[],i=p.current;for(let e=0;e<5;e+=.016){o.push(i);let e=i.one_step(w.current,.016).toObject();i=new y(e.r,e.theta,e.alpha,e.dr,e.dtheta,e.dalpha)}_(o);let c=new a.Z58,f=new a.qUd(-1e3,1e3,200,-1200,.1,1e3);f.position.set(0,0,1e3),f.lookAt(0,0,0);let b=new s.JeP({antialias:!0});b.setClearColor(0xffffff,1),b.setSize(1e3,800),e.current&&e.current.appendChild(b.domElement);let g=new a.Gu$(30,32,32),d=new a.V9B({color:0xff0000}),m=new a.eaF(g,d);c.add(m);let R=new a.mrM({color:0}),A=new a.LoY,S=new Float32Array(6);S.fill(0),A.setAttribute("position",new a.THS(S,3));let C=new a.N1A(A,R);c.add(C),t.current=c,n.current=f,r.current=b,u.current=m,l.current=C,O(o[0])})()},[]),(0,i.useEffect)(()=>{if(f&&c.length>0){g.current=0;let e=()=>{g.current<c.length?(O(c[g.current]),g.current++,d.current=requestAnimationFrame(e)):d.current&&cancelAnimationFrame(d.current)};d.current=requestAnimationFrame(e)}return()=>{d.current&&cancelAnimationFrame(d.current)}},[f,c]),(0,o.jsxs)("div",{style:{backgroundColor:"#d0d0d0",color:"#000",minHeight:"100vh",padding:"20px"},children:[(0,o.jsx)("h1",{children:"ヨーヨーの投げ出しに関する一考 1 "}),"Play を押せば投げる, 慣性モーメントと軸半径を変えてみよう",(0,o.jsx)("hr",{}),(0,o.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("label",{style:{marginRight:"10px"},children:["慣性モーメント [g mm^2]:",(0,o.jsx)("input",{type:"number",value:h,onChange:e=>m(Number(e.target.value)),style:{marginLeft:"5px",width:"80px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",backgroundColor:"#fff"}})]}),(0,o.jsxs)("label",{style:{marginRight:"10px"},children:["軸半径 [mm]:",(0,o.jsx)("input",{type:"number",value:j,onChange:e=>R(Number(e.target.value)),style:{marginLeft:"5px",width:"80px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",backgroundColor:"#fff"}})]})]}),(0,o.jsx)("button",{onClick:function(){p.current=new y(30,Math.PI,0,0,-100,0),w.current=new x(60,h,30,j,1e3,9806.65);let e=[],t=p.current;for(let n=0;n<5;n+=.016){e.push(t);let n=t.one_step(w.current,.016).toObject();t=new y(n.r,n.theta,n.alpha,n.dr,n.dtheta,n.dalpha)}_(e),O(e[0])},style:{marginTop:"10px",padding:"5px 10px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",backgroundColor:"#fff"},children:"パラメータ反映"})]}),(0,o.jsx)("button",{onClick:()=>b(!f),style:{marginBottom:"10px",padding:"5px 10px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",backgroundColor:"#fff"},children:f?"Pause":"Play"}),(0,o.jsx)("div",{ref:e,style:{width:1e3,height:800}}),(0,o.jsx)("hr",{}),"糸の細さは考慮してないので現実と異なるが、慣性モーメントと軸半径で投げ出しが変わることはわかるはず。"]})}},7672:(e,t,n)=>{Promise.resolve().then(n.bind(n,4503))}},e=>{var t=t=>e(e.s=t);e.O(0,[367,831,441,587,358],()=>t(7672)),_N_E=e.O()}]);